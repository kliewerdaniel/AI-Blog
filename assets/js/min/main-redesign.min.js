document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".main-nav");if(e&&t&&(e.addEventListener("click",function(){t.classList.toggle("active"),this.classList.toggle("active");const e=t.classList.contains("active");this.setAttribute("aria-expanded",e),t.setAttribute("aria-hidden",!e)}),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-hidden","true")),document.querySelectorAll(".dropdown").forEach(e=>{const t=e.querySelector("a"),n=e.querySelector(".dropdown-menu");t&&n&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),e.addEventListener("click",function(a){window.innerWidth<=768&&a.target===t&&(a.preventDefault(),this.classList.toggle("active"),t.setAttribute("aria-expanded",this.classList.contains("active")),n.setAttribute("aria-hidden",!this.classList.contains("active")))}),t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())}))}),document.querySelector(".post-list")){const e=document.querySelector(".post-list");e.classList.add("styled-post-list"),e.querySelectorAll("li").forEach((e,t)=>{e.classList.add("post-item"),e.style.opacity="0",e.style.transform="translateY(20px)",e.style.animation=`fadeInUp 0.6s ease forwards ${.2+.1*t}s`})}const n=window.location.pathname;document.querySelectorAll(".main-nav li a").forEach(e=>{const t=e.getAttribute("href");(t===n||n.includes("/blog/")&&"/blog/"===t||n.includes("/projects/")&&"/projects/"===t||n.includes("/guides/")&&"/guides/"===t)&&e.parentElement.classList.add("active")});const a=document.querySelector("header");let i=0;if(window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;e>50?a.classList.add("scrolled"):a.classList.remove("scrolled"),i=e,document.querySelectorAll(".parallax-bg").forEach(t=>{const n=.5,a=-(e*n);t.style.transform=`translate3d(0, ${a}px, 0)`})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){const n=this.getAttribute("href");"#"!==n&&(t.preventDefault(),document.querySelector(n)&&(document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,n)))})}),window.IntersectionObserver){const e=document.querySelectorAll("img[loading='lazy']"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.style.opacity="0",n.style.transition="opacity 0.5s ease",n.onload=()=>{n.style.opacity="1"},t.unobserve(n)}})});e.forEach(e=>{e.style.opacity="0",t.observe(e)})}if(window.IntersectionObserver){const e=function(){const e=document.querySelectorAll(".animate-on-scroll"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animated"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>{t.observe(e)})};e()}const r=document.querySelector(".hero-background");r&&window.addEventListener("scroll",function(){const e=window.pageYOffset;r.style.transform=`translateY(${.4*e}px)`});const s=document.querySelectorAll(".featured-item");s.forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-10px)",this.style.boxShadow="0 10px 25px rgba(0, 0, 0, 0.1)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)",this.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05)"})})});
