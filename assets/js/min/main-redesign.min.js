document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".main-nav");e&&t&&(e.addEventListener("click",function(){t.classList.toggle("active"),this.classList.toggle("active");const e=t.classList.contains("active");this.setAttribute("aria-expanded",e),t.setAttribute("aria-hidden",!e)}),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Toggle navigation menu"),t.setAttribute("aria-hidden","true"));const n=document.querySelectorAll(".dropdown");n.forEach(e=>{const t=e.querySelector("a"),n=e.querySelector(".dropdown-menu");t&&n&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),e.addEventListener("click",function(a){window.innerWidth<=768&&a.target===t&&(a.preventDefault(),this.classList.toggle("active"),t.setAttribute("aria-expanded",this.classList.contains("active")),n.setAttribute("aria-hidden",!this.classList.contains("active")))}),t.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())}))});const a=document.querySelector(".post-list");a&&(a.classList.add("styled-post-list"),a.querySelectorAll("li").forEach(e=>{e.classList.add("post-item")}));const i=window.location.pathname;document.querySelectorAll(".main-nav li a").forEach(e=>{const t=e.getAttribute("href");(t===i||i.includes("/blog/")&&"/blog/"===t||i.includes("/projects/")&&"/projects/"===t||i.includes("/guides/")&&"/guides/"===t)&&e.parentElement.classList.add("active")});const r=document.querySelector("header");let s=0;window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;e>50?r.classList.add("scrolled"):r.classList.remove("scrolled"),s=e}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"!==t){e.preventDefault();const n=document.querySelector(t);n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,null,t))}})}),window.IntersectionObserver&&document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.style.opacity="0",new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.style.opacity="0",n.style.transition="opacity 0.5s ease",n.onload=()=>{n.style.opacity="1"},t.unobserve(n)}})}).observe(e)});const o=document.querySelector(".hero-header");o&&window.addEventListener("scroll",function(){const e=window.pageYOffset,t=document.querySelector(".hero-background");t&&(t.style.transform=`translateY(${.4*e}px)`)});const l=document.querySelectorAll(".parallax-section");l.length>0&&window.addEventListener("scroll",function(){l.forEach(e=>{const t=window.pageYOffset,n=e.offsetTop,a=e.offsetHeight;if(t>n-window.innerHeight&&t<n+a){const a=e.querySelector(".parallax-bg");if(a){const e=.5*(t-n);a.style.transform=`translateY(${e}px)`}}})})});
