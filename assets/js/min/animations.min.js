document.addEventListener("DOMContentLoaded",function(){initScrollAnimations(),initParallax(),initSmoothScroll()});function initScrollAnimations(){const e=document.querySelectorAll("[data-animation]");if(!e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,a=n.getAttribute("data-animation");switch(a){case"fade-in":n.classList.add("animate-fade-in");break;case"slide-up":n.classList.add("animate-slide-up");break;case"slide-in-right":n.classList.add("animate-slide-in-right");break;default:n.classList.add(`animate-${a}`)}t.unobserve(n)}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{t.observe(e)})}function initParallax(){const e=document.querySelectorAll("[data-parallax]");e.length&&window.addEventListener("scroll",()=>{const t=window.scrollY;e.forEach(e=>{const n=parseFloat(e.getAttribute("data-parallax"))||.2,a=t*n;e.style.transform=`translateY(${a}px)`})})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=n.getBoundingClientRect().top+window.scrollY;smoothScrollTo(e,800)}})})}function smoothScrollTo(e,t){const n=window.scrollY,a=e-n,i=performance.now();function o(e){const r=e-i;if(r<t){let e;const i=r/t;e=i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,window.scrollTo(0,n+a*e),requestAnimationFrame(o)}else window.scrollTo(0,e)}requestAnimationFrame(o)}function refreshAnimations(e){const t=e.querySelectorAll("[data-animation]");if(!t.length)return;const n=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target,a=t.getAttribute("data-animation");switch(a){case"fade-in":t.classList.add("animate-fade-in");break;case"slide-up":t.classList.add("animate-slide-up");break;case"slide-in-right":t.classList.add("animate-slide-in-right");break;default:t.classList.add(`animate-${a}`)}n.unobserve(t)}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});t.forEach(e=>{n.observe(e)})}window.animations={refreshAnimations,smoothScrollTo};
